<!DOCTYPE html>
<html lang=en>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  <meta name="google-site-verification" content="7qTkiEaZmufzh-fLDsly9ceOH7ZJnGX0vK_iBzTaGT0" />
  
  
  <title>Unreal Automated Rendering Basics | Tech Art Learning</title><meta name="robots" content="noindex">
  <meta name="description" content="Introduction The Movie Render Queue (MRQ) is the latest and the greatest from Unreal for Rendering out cinematic, thus I’ll be covering it the most. I’ll also touch upon the legacy Movie Scene Captur">
<meta property="og:type" content="article">
<meta property="og:title" content="Unreal Automated Rendering Basics">
<meta property="og:url" content="https://www.xingyulei.com/post/wip/ue-rendering-basic/index.html">
<meta property="og:site_name" content="Tech Art Learning">
<meta property="og:description" content="Introduction The Movie Render Queue (MRQ) is the latest and the greatest from Unreal for Rendering out cinematic, thus I’ll be covering it the most. I’ll also touch upon the legacy Movie Scene Captur">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-29T05:00:00.000Z">
<meta property="article:modified_time" content="2023-01-03T23:17:31.075Z">
<meta property="article:author" content="Xingyu Lei">
<meta property="article:tag" content="rendering">
<meta property="article:tag" content="unreal">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="https://www.xingyulei.com/post/wip/ue-rendering-basic/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Tech Art Learning" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.3.0"></head>


<body class="main-center theme-blue" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/leixingyu" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.png" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">Xingyu Lei</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Technical Artist</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> California, US</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">Home</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">About</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">Repository</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">Archives</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/leixingyu" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://www.linkedin.com/in/xingyu-lei/" target="_blank" title="Linkedin" data-toggle=tooltip data-placement=top><i class="icon icon-linkedin"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <img src="https://i.imgur.com/nXNdEmr.jpg" alt="banner" width=300px> <h4>Welcome to our humble abode!</h4>
<p></p> </br> <p> (Feel free to contact me via <span style="color:blue">techartlei@gmail.com</span>) </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">Categories</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/3d-math/">3d math</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/graphics-programming/">graphics programming</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/learning-log/">learning log</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/maya-communication/">maya communication</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/maya-python-api/">maya python api</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech-summary/">tech summary</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/unreal-cinematic/">unreal cinematic</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/batch/" style="font-size: 13.25px;">batch</a> <a href="/tags/c/" style="font-size: 13.13px;">c#</a> <a href="/tags/c/" style="font-size: 13px;">c++</a> <a href="/tags/command-port/" style="font-size: 13px;">command port</a> <a href="/tags/general/" style="font-size: 13px;">general</a> <a href="/tags/math/" style="font-size: 13.25px;">math</a> <a href="/tags/maya/" style="font-size: 13.88px;">maya</a> <a href="/tags/pipeline/" style="font-size: 13.13px;">pipeline</a> <a href="/tags/pyqt/" style="font-size: 13.75px;">pyqt</a> <a href="/tags/python/" style="font-size: 14px;">python</a> <a href="/tags/rendering/" style="font-size: 13px;">rendering</a> <a href="/tags/socket/" style="font-size: 13.13px;">socket</a> <a href="/tags/style/" style="font-size: 13.13px;">style</a> <a href="/tags/template/" style="font-size: 13.63px;">template</a> <a href="/tags/threading/" style="font-size: 13.13px;">threading</a> <a href="/tags/unity/" style="font-size: 13.38px;">unity</a> <a href="/tags/unreal/" style="font-size: 13.5px;">unreal</a> <a href="/tags/windows/" style="font-size: 13.13px;">windows</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled ">
        
          <li>
            
            <div class="item-thumb">
              <a href="/post/ue-commandline-python/" class="thumb">
    
    
        <span style="background-image:url(https://2.bp.blogspot.com/-TAOsVGZBJpY/WYe9le4VJ8I/AAAAAAAAIDY/e1OVOwl1Zq8nFzqDfHRms2rVTl-dDtsmwCLcBGAs/s1600/20170807-picocli-javapCommandLineClassNestedInterpreterOption.PNG)" alt="How to Use Unreal Command Line for Python (3 Ways)" class="thumb-image"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/learning-log/">learning log</a>
              </p>
              <p class="item-title">
                <a href="/post/ue-commandline-python/" class="title">How to Use Unreal Command Line for Python (3 Ways)</a>
              </p>
              <p class="item-date">
                <time datetime="2022-11-06T04:00:00.000Z" itemprop="datePublished">2022-11-06</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/post/math-xform-conversion/" class="thumb">
    
    
        <span style="background-image:url(https://hips.hearstapps.com/hmg-prod/images/23-1597850983.jpg)" alt="How Transformation Matrix Conversion Works between DCCs" class="thumb-image"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/learning-log/">learning log</a>
              </p>
              <p class="item-title">
                <a href="/post/math-xform-conversion/" class="title">How Transformation Matrix Conversion Works between DCCs</a>
              </p>
              <p class="item-date">
                <time datetime="2022-10-22T04:00:00.000Z" itemprop="datePublished">2022-10-22</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/post/math-change-of-basis/" class="thumb">
    
    
        <span style="background-image:url(https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/3d_basis_transformation.svg/1200px-3d_basis_transformation.svg.png)" alt="What is Change of Basis Matrix?" class="thumb-image"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/3d-math/">3d math</a>
              </p>
              <p class="item-title">
                <a href="/post/math-change-of-basis/" class="title">What is Change of Basis Matrix?</a>
              </p>
              <p class="item-date">
                <time datetime="2022-09-25T04:00:00.000Z" itemprop="datePublished">2022-09-25</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/post/math-euler-gimbal/" class="thumb">
    
    
        <span style="background-image:url(https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Gyroscope_operation.gif/220px-Gyroscope_operation.gif)" alt="The Infamous Gimbal Lock Problem with Euler Angles" class="thumb-image"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/3d-math/">3d math</a>
              </p>
              <p class="item-title">
                <a href="/post/math-euler-gimbal/" class="title">The Infamous Gimbal Lock Problem with Euler Angles</a>
              </p>
              <p class="item-date">
                <time datetime="2022-09-17T04:00:00.000Z" itemprop="datePublished">2022-09-17</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/post/ue-cinematic-fbx/" class="thumb">
    
    
        <span style="background-image:url(https://i.imgur.com/Ez1x8Zv.png)" alt="Unreal Engine Cinematic FBX Workflow Summary" class="thumb-image"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/unreal-cinematic/">unreal cinematic</a>
              </p>
              <p class="item-title">
                <a href="/post/ue-cinematic-fbx/" class="title">Unreal Engine Cinematic FBX Workflow Summary</a>
              </p>
              <p class="item-date">
                <time datetime="2022-08-13T04:00:00.000Z" itemprop="datePublished">2022-08-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">Table of Contents</h3>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#introduction"><span class="toc-text"> Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#movie-scene-capture"><span class="toc-text"> Movie Scene Capture</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#movie-scene-capture-in-editor"><span class="toc-text"> Movie Scene Capture in Editor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#movie-scene-capture-through-commandline"><span class="toc-text"> Movie Scene Capture through commandline</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#movie-render-queue"><span class="toc-text"> Movie Render Queue</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#movie-render-queue-in-editor"><span class="toc-text"> Movie Render Queue in Editor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#movie-render-queue-through-commandline"><span class="toc-text"> Movie Render Queue through commandline</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#movie-render-queue-and-editor-hybrid"><span class="toc-text"> Movie Render Queue and Editor Hybrid</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reference"><span class="toc-text"> Reference</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-wip/ue-rendering-basic" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Unreal Automated Rendering Basics
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/post/wip/ue-rendering-basic/" class="article-date">
	  <time datetime="2022-11-29T05:00:00.000Z" itemprop="datePublished">2022-11-29</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/unreal-cinematic/">unreal cinematic</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/python/" rel="tag">python</a>, <a class="article-tag-link-link" href="/tags/rendering/" rel="tag">rendering</a>, <a class="article-tag-link-link" href="/tags/unreal/" rel="tag">unreal</a>
  </span>


        

        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2>
<p>The Movie Render Queue (MRQ) is the latest and the greatest from Unreal for
Rendering out cinematic, thus I’ll be covering it the most.
I’ll also touch upon the legacy Movie Scene Capture tool since it is
still available: Epic seems to be replacing it with MRQ as
it’s much more customizable.</p>
<h2 id="movie-scene-capture"><a class="markdownIt-Anchor" href="#movie-scene-capture"></a> Movie Scene Capture</h2>
<h3 id="movie-scene-capture-in-editor"><a class="markdownIt-Anchor" href="#movie-scene-capture-in-editor"></a> Movie Scene Capture in Editor</h3>
<p>Load the level prior to rendering?</p>
<p>Example: Engine\Plugins\MovieScene\SequencerScripting\Content\Python\sequencer_examples.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">render_sequence_to_movie</span>(<span class="params">export_path, film_resolution, delay_every_frame, on_finished_callback</span>):</span></span><br><span class="line">    <span class="comment"># 1) Create an instance of our UAutomatedLevelSequenceCapture and override all of the settings on it. This class is currently</span></span><br><span class="line">    <span class="comment"># set as a config class so settings will leak between the Unreal Sequencer Render-to-Movie UI and this object. To work around</span></span><br><span class="line">    <span class="comment"># this, we set every setting via the script so that no changes the user has made via the UI will affect the script version.</span></span><br><span class="line">    <span class="comment"># The users UI settings will be reset as an unfortunate side effect of this.</span></span><br><span class="line">    capture_settings = unreal.AutomatedLevelSequenceCapture()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Set all POD settings on the UMovieSceneCapture</span></span><br><span class="line">    <span class="comment"># capture_settings.settings.output_directory = unreal.DirectoryPath(&quot;../../../unreal-render-release/Saved/VideoCaptures1/&quot;)</span></span><br><span class="line">    capture_settings.settings.output_directory = unreal.DirectoryPath(export_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># capture_settings.settings.custom_frame_rate = unreal.FrameRate(24,1)</span></span><br><span class="line">    capture_settings.settings.resolution.res_x = film_resolution</span><br><span class="line">    capture_settings.settings.resolution.res_y = film_resolution</span><br><span class="line">    capture_settings.settings.enable_texture_streaming = <span class="literal">False</span></span><br><span class="line">    capture_settings.settings.cinematic_engine_scalability = <span class="literal">True</span></span><br><span class="line">    capture_settings.settings.cinematic_mode = <span class="literal">True</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Set all the POD settings on UAutomatedLevelSequenceCapture</span></span><br><span class="line">    capture_settings.use_custom_start_frame = <span class="literal">False</span>  <span class="comment"># If False, the system will automatically calculate the start based on sequence content</span></span><br><span class="line">    capture_settings.use_custom_end_frame = <span class="literal">False</span>  <span class="comment"># If False, the system will automatically calculate the end based on sequence content</span></span><br><span class="line">    capture_settings.custom_start_frame = unreal.FrameNumber(<span class="number">0</span>)  <span class="comment"># Requires use_custom_start_frame = True</span></span><br><span class="line">    capture_settings.custom_end_frame = unreal.FrameNumber(<span class="number">0</span>)  <span class="comment"># Requires use_custom_end_frame = True</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Tell the capture settings which level sequence to render with these settings. The asset does not need to be loaded,</span></span><br><span class="line">    <span class="comment"># as we&#x27;re only capturing the path to it and when the PIE instance is created it will load the specified asset.</span></span><br><span class="line">    <span class="comment"># If you only had a reference to the level sequence, you could use &quot;unreal.SoftObjectPath(mysequence.get_path_name())&quot;</span></span><br><span class="line">    capture_settings.level_sequence_asset = unreal.SoftObjectPath(sequence_asset_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># To configure the video output we need to tell the capture settings which capture protocol to use. The various supported</span></span><br><span class="line">    <span class="comment"># capture protocols can be found by setting the Unreal Content Browser to &quot;Engine C++ Classes&quot; and filtering for &quot;Protocol&quot;</span></span><br><span class="line">    <span class="comment"># ie: CompositionGraphCaptureProtocol, ImageSequenceProtocol_PNG, etc. Do note that some of the listed protocols are not intended</span></span><br><span class="line">    <span class="comment"># to be used directly.</span></span><br><span class="line">    <span class="comment"># Right click on a Protocol and use &quot;Copy Reference&quot; and then remove the extra formatting around it. ie:</span></span><br><span class="line">    <span class="comment"># Class&#x27;/Script/MovieSceneCapture.ImageSequenceProtocol_PNG&#x27; gets transformed into &quot;/Script/MovieSceneCapture.ImageSequenceProtocol_PNG&quot;</span></span><br><span class="line">    capture_settings.set_image_capture_protocol_type(</span><br><span class="line">        unreal.load_class(<span class="literal">None</span>, <span class="string">&quot;/Script/MovieSceneCapture.ImageSequenceProtocol_PNG&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># After we have set the capture protocol to a soft class path we can start editing the settings for the instance of the protocol that is internallyc reated.</span></span><br><span class="line">    capture_settings.get_image_capture_protocol().compression_quality = <span class="number">85</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Finally invoke Sequencer&#x27;s Render to Movie functionality. This will examine the specified settings object and either construct a new PIE instance to render in,</span></span><br><span class="line">    <span class="comment"># or create and launch a new process (optionally shutting down your editor).</span></span><br><span class="line">    unreal.SequencerTools.render_movie(capture_settings, on_finished_callback)</span><br></pre></td></tr></table></figure>
<h3 id="movie-scene-capture-through-commandline"><a class="markdownIt-Anchor" href="#movie-scene-capture-through-commandline"></a> Movie Scene Capture through commandline</h3>
<p>a lot of custom flags can be specified through the command line.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">movie_scene_capture</span>(<span class="params">u_level_file, u_level_seq_file, output_folder</span>):</span></span><br><span class="line">    command = [</span><br><span class="line">        UNREAL_EXE,</span><br><span class="line">        U_PROJECT,</span><br><span class="line">        u_level_file,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># required</span></span><br><span class="line">        <span class="string">&quot;-LevelSequence=%s&quot;</span> % u_level_seq_file,  <span class="comment"># The sequence to render</span></span><br><span class="line">        <span class="string">&quot;-MovieSceneCaptureType=/Script/MovieSceneCapture.AutomatedLevelSequenceCapture&quot;</span>,</span><br><span class="line">        <span class="string">&quot;-NoLoadingScreen&quot;</span>,</span><br><span class="line">        <span class="string">&quot;-game&quot;</span>,</span><br><span class="line">        <span class="string">&quot;-log&quot;</span>,</span><br><span class="line">        <span class="string">&quot;-MovieCinematicMode=yes&quot;</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># general property</span></span><br><span class="line">        <span class="string">&quot;-MovieFolder=%s&quot;</span> % output_folder,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># if doing .avi</span></span><br><span class="line">        <span class="string">&quot;-MovieFormat=Video&quot;</span>,  <span class="comment"># JPG, BMP, PNG or Video</span></span><br><span class="line">        <span class="string">&quot;-MovieFrameRate=24&quot;</span>,</span><br><span class="line">        <span class="string">&quot;-MovieQuality=100&quot;</span>,  <span class="comment"># compression quality in percentage</span></span><br><span class="line">        <span class="string">&quot;-Windowed&quot;</span>,</span><br><span class="line">        <span class="string">&quot;-ResX=1920&quot;</span>,</span><br><span class="line">        <span class="string">&quot;-ResY=1080&quot;</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># other</span></span><br><span class="line">        <span class="string">&quot;-NoTextureStreaming&quot;</span>,  <span class="comment"># for final render</span></span><br><span class="line">        <span class="string">&quot;-NoScreenMessages&quot;</span>,  <span class="comment"># no screen debug message</span></span><br><span class="line">    ]</span><br><span class="line">    proc = subprocess.Popen(command)</span><br><span class="line">    <span class="keyword">return</span> proc.communicate()</span><br></pre></td></tr></table></figure>
<h2 id="movie-render-queue"><a class="markdownIt-Anchor" href="#movie-render-queue"></a> Movie Render Queue</h2>
<h3 id="movie-render-queue-in-editor"><a class="markdownIt-Anchor" href="#movie-render-queue-in-editor"></a> Movie Render Queue in Editor</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">movie_queue_render</span>(<span class="params">u_level_file, u_level_seq_file, u_preset_file</span>):</span></span><br><span class="line">    subsystem = unreal.get_editor_subsystem(unreal.MoviePipelineQueueSubsystem)</span><br><span class="line">    queue = subsystem.get_queue()</span><br><span class="line">    executor = unreal.MoviePipelinePIEExecutor()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># config render job with movie pipeline config</span></span><br><span class="line">    job = queue.allocate_new_job(unreal.MoviePipelineExecutorJob)</span><br><span class="line">    job.job_name = <span class="string">&#x27;test&#x27;</span></span><br><span class="line">    job.<span class="built_in">map</span> = unreal.SoftObjectPath(u_level_file)</span><br><span class="line">    job.sequence = unreal.SoftObjectPath(u_level_seq_file)</span><br><span class="line">    preset = unreal.EditorAssetLibrary.find_asset_data(u_preset_file).get_asset()</span><br><span class="line">    job.set_configuration(preset)</span><br><span class="line">    </span><br><span class="line">    subsystem.render_queue_with_executor_instance(executor)</span><br></pre></td></tr></table></figure>
<p>Add callbacks</p>
<h3 id="movie-render-queue-through-commandline"><a class="markdownIt-Anchor" href="#movie-render-queue-through-commandline"></a> Movie Render Queue through commandline</h3>
<p>The default MRQ command line can only provide customization by using
either a Config/Preset asset or a Queue asset.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">movie_queue_render</span>(<span class="params">u_level_file, u_level_seq_file, u_preset_file</span>):</span></span><br><span class="line">    command = [</span><br><span class="line">        UNREAL_EXE,</span><br><span class="line">        U_PROJECT,</span><br><span class="line">        u_level_file,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># required</span></span><br><span class="line">        <span class="string">&quot;-LevelSequence=%s&quot;</span> % u_level_seq_file,  <span class="comment"># The sequence to render</span></span><br><span class="line">        <span class="string">&quot;-MoviePipelineConfig=\&quot;%s\&quot;&quot;</span> % u_preset_file,</span><br><span class="line">        <span class="string">&quot;-game&quot;</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># options</span></span><br><span class="line">        <span class="string">&quot;-NoLoadingScreen&quot;</span>,</span><br><span class="line">        <span class="string">&quot;-log&quot;</span>,</span><br><span class="line">        <span class="string">&quot;-NoTextureStreaming&quot;</span>,  <span class="comment"># for final render</span></span><br><span class="line">        <span class="string">&quot;-NoScreenMessages&quot;</span>,  <span class="comment"># no screen debug message</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># window size not resolution</span></span><br><span class="line">        <span class="string">&quot;-Windowed&quot;</span>,</span><br><span class="line">        <span class="string">&quot;-ResX=800&quot;</span>,</span><br><span class="line">        <span class="string">&quot;-ResY=600&quot;</span>,</span><br><span class="line">    ]</span><br><span class="line">    proc = subprocess.Popen(command)</span><br><span class="line">    <span class="keyword">return</span> proc.communicate()</span><br></pre></td></tr></table></figure>
<h3 id="movie-render-queue-and-editor-hybrid"><a class="markdownIt-Anchor" href="#movie-render-queue-and-editor-hybrid"></a> Movie Render Queue and Editor Hybrid</h3>
<h2 id="reference"><a class="markdownIt-Anchor" href="#reference"></a> Reference</h2>
<p><a target="_blank" rel="noopener" href="https://forums.unrealengine.com/t/unable-to-execute-moviepipelinequeue-from-python/467250/5"></a></p>
<!-- flag of hidden posts -->
      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
  
    
    <li class="post-copyright-link hidden-xs">
      <strong>Shared Link：</strong>
      <a href="https://www.xingyulei.com/post/wip/ue-rendering-basic/" title="Unreal Automated Rendering Basics" target="_blank" rel="external">https://www.xingyulei.com/post/wip/ue-rendering-basic/</a>
    </li>
    
	
    <li class="post-copyright-license">
      <strong>Copyright Notice： </strong> This post is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en" target="_blank" rel="external">Creative Commons Attribution 4.0 International License </a>. Please give appropriate credit.
    </li>
	
	<li class="post-copyright-license">
      <strong>Disclaimer： </strong> The author assumes no responsibility or liability for any errors or omissions in the content of this site. The information contained in this site is provided on an "as is" basis with no guarantees of completeness, accuracy, usefulness or timeliness.
    </li>
	
  </ul>
</blockquote>



<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/leixingyu" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/leixingyu" target="_blank"><span class="text-dark">Xingyu Lei</span><small class="ml-1x">Technical Artist</small></a></h3>
        <div>Problem solver; Game and film enthusiast;</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  
  
  <div class="bar-right">
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/leixingyu" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://www.linkedin.com/in/xingyu-lei/" target="_blank" title="Linkedin" data-toggle=tooltip data-placement=top><i class="icon icon-linkedin"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        &copy; 2023 Xingyu Lei
        
        <!-- <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div> -->
    </div>
	
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   




    <script defer type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-206682944-1', 'auto');
ga('send', 'pageview');

</script>



</body>
</html>